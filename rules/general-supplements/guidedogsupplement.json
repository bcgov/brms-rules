{
  "nodes": [
    {
      "id": "d4b75ff1-c189-4c99-befd-34a048ea36dc",
      "name": "GuideDogServiceSupplement",
      "type": "inputNode",
      "position": {
        "x": -110,
        "y": 190
      },
      "content": {
        "fields": [
          {
            "id": 18,
            "field": "familyUnitInPay",
            "name": "Family Unit In Pay",
            "description": "Family unit is in pay.",
            "dataType": "true-false",
            "childFields": []
          },
          {
            "id": 59,
            "field": "usesGuideDog",
            "name": "Uses Guide Dog or Service Dog",
            "description": "Individual uses a guide dog, service dog and/or retired guide or service dog certified under the Guide Dog and Service Dog Act.",
            "dataType": "true-false",
            "childFields": []
          },
          {
            "id": 130,
            "field": "guideOrServiceDogTeams",
            "name": "Guide or Service Dog Teams",
            "description": "Array of dogs with certification documentation types. The number of dogs indicates the number on the family unit, and their specific documentation.",
            "dataType": "object-array",
            "childFields": [
              {
                "id": 22,
                "name": "Guide Dog Documentation Type",
                "field": "guideDogDocumentationType",
                "description": "The type of documentation received for the guide dog.",
                "dataType": "text-input",
                "validationCriteria": "certification, testBooked",
                "validationType": "[=text]"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "ff32aa69-c432-4205-93f8-7f6e3c57c2f3",
      "name": "Eligibility",
      "type": "decisionTableNode",
      "content": {
        "hitPolicy": "first",
        "inputs": [
          {
            "id": "a91c0dbe-4622-41b9-94cd-b5bff7ed1ffc",
            "name": "Family Unit In Pay",
            "type": "expression",
            "field": "familyUnitInPay",
            "defaultValue": "false"
          },
          {
            "id": "d1465f38-5770-41fe-b4c6-64ab07562a67",
            "name": "Uses Guide Dog or Service Dog",
            "type": "expression",
            "field": "usesGuideDog",
            "defaultValue": "false"
          },
          {
            "id": "811e33b5-5f7a-4719-a00d-5d8aaa4c6940",
            "field": "guideOrServiceDogTeams",
            "name": "Guide or Service Dog Teams"
          }
        ],
        "outputs": [
          {
            "id": "e30caacc-23e4-40d8-b8f3-976bb5bc36f9",
            "name": "IsEligible",
            "type": "expression",
            "field": "isEligible",
            "defaultValue": "false"
          }
        ],
        "rules": [
          {
            "_id": "1468e0db-8faf-468d-b9f7-54b8bdc7ea5d",
            "_description": "Family unit has provided proof of certification which includes: Certified under Guide Dog and Service Dog Act by an accredited/recognized school as defined in Guide Dog and Service Dog Regulation or\nIssued a valid ID card by accredited/recognized school as defined in Guide 3. Dog and Service Dog Regulation or\nDog passes a test administered by the Justice Institute of BC",
            "a91c0dbe-4622-41b9-94cd-b5bff7ed1ffc": "true",
            "d1465f38-5770-41fe-b4c6-64ab07562a67": "true",
            "811e33b5-5f7a-4719-a00d-5d8aaa4c6940": "",
            "e30caacc-23e4-40d8-b8f3-976bb5bc36f9": "true"
          },
          {
            "_id": "9e372954-b632-40f6-8e6e-d34190cf0a1c",
            "a91c0dbe-4622-41b9-94cd-b5bff7ed1ffc": "",
            "d1465f38-5770-41fe-b4c6-64ab07562a67": "",
            "811e33b5-5f7a-4719-a00d-5d8aaa4c6940": "",
            "e30caacc-23e4-40d8-b8f3-976bb5bc36f9": "false"
          }
        ]
      },
      "position": {
        "x": 505,
        "y": 325
      }
    },
    {
      "id": "3d92a47a-f301-4481-a287-84fa41daec6a",
      "name": "GuideDogServiceSupplement",
      "type": "outputNode",
      "position": {
        "x": 1070,
        "y": 210
      },
      "content": {
        "fields": [
          {
            "id": 65,
            "field": "twoMonthEligibility",
            "name": "Up To Two Months of Eligibility",
            "description": "Whether or not an individual is within the two month eligibility period to be eligible for a guide dog supplement.",
            "dataType": "true-false",
            "childFields": []
          },
          {
            "id": 28,
            "field": "isEligible",
            "name": "Is Eligible",
            "description": "General \"Is Eligible\" statement used in conjunction with supplement building to describe eligibility.",
            "dataType": "true-false",
            "childFields": []
          },
          {
            "id": 58,
            "field": "supplementAmount",
            "name": "Supplement Amount",
            "description": "General \"Supplement Amount\" field to define total supplement amount output for a specific supplement.",
            "dataType": "number-input",
            "validationCriteria": "0",
            "validationType": ">=",
            "childFields": []
          }
        ]
      }
    },
    {
      "id": "f97bbcc0-aae0-4844-82eb-bfa8a7a150e3",
      "name": "Eligible Dog Teams",
      "type": "decisionTableNode",
      "content": {
        "hitPolicy": "first",
        "inputs": [
          {
            "id": "f06e8fde-1d31-4ad1-ae94-f8cf6fe0fddf",
            "field": "pending",
            "name": "Count of dog teams with booked tests",
            "defaultValue": ""
          },
          {
            "id": "6852d88b-574f-44cc-82e0-c1a615e92917",
            "field": "certified",
            "name": "Count of certified guide or service dog teams",
            "defaultValue": ""
          },
          {
            "id": "2f0b7c62-ebb6-41db-a36e-2d6e83df5f3e",
            "field": "isEligible",
            "name": "Is eligible"
          }
        ],
        "outputs": [
          {
            "id": "e30caacc-23e4-40d8-b8f3-976bb5bc36f9",
            "name": "IsEligible",
            "type": "expression",
            "field": "isEligible",
            "defaultValue": "false"
          },
          {
            "id": "cee807c7-281e-4f2d-be5a-7be83372701a",
            "field": "supplementAmount",
            "name": "Supplement Amount"
          },
          {
            "id": "17726155-ad08-49e7-901f-7337611630aa",
            "name": "Up To Two Months of Eligibility",
            "type": "expression",
            "field": "twoMonthEligibility",
            "defaultValue": "false"
          }
        ],
        "rules": [
          {
            "_id": "e07580c9-79a4-46ec-b36a-8b0e0c6e9750",
            "_description": "A test booked with the Justice Institute for certification for a date within two months of requesting the supplement for one of the teams.",
            "f06e8fde-1d31-4ad1-ae94-f8cf6fe0fddf": "$ > 0",
            "6852d88b-574f-44cc-82e0-c1a615e92917": "",
            "2f0b7c62-ebb6-41db-a36e-2d6e83df5f3e": "true",
            "e30caacc-23e4-40d8-b8f3-976bb5bc36f9": "",
            "cee807c7-281e-4f2d-be5a-7be83372701a": "((certified + pending) * 95)",
            "17726155-ad08-49e7-901f-7337611630aa": "true"
          },
          {
            "_id": "1468e0db-8faf-468d-b9f7-54b8bdc7ea5d",
            "_description": "Family unit has provided proof of certification for all teams. Includes: Certified under Guide Dog and Service Dog Act by an accredited/recognized school as defined in Guide Dog and Service Dog Regulation or\nIssued a valid ID card by accredited/recognized school as defined in Guide 3. Dog and Service Dog Regulation or\nDog passes a test administered by the Justice Institute of BC",
            "f06e8fde-1d31-4ad1-ae94-f8cf6fe0fddf": "",
            "6852d88b-574f-44cc-82e0-c1a615e92917": "$ > 0",
            "2f0b7c62-ebb6-41db-a36e-2d6e83df5f3e": "true",
            "e30caacc-23e4-40d8-b8f3-976bb5bc36f9": "",
            "cee807c7-281e-4f2d-be5a-7be83372701a": "(certified * 95)",
            "17726155-ad08-49e7-901f-7337611630aa": "false"
          },
          {
            "_id": "9e372954-b632-40f6-8e6e-d34190cf0a1c",
            "f06e8fde-1d31-4ad1-ae94-f8cf6fe0fddf": "",
            "6852d88b-574f-44cc-82e0-c1a615e92917": "",
            "2f0b7c62-ebb6-41db-a36e-2d6e83df5f3e": "",
            "e30caacc-23e4-40d8-b8f3-976bb5bc36f9": "false",
            "cee807c7-281e-4f2d-be5a-7be83372701a": "",
            "17726155-ad08-49e7-901f-7337611630aa": ""
          }
        ]
      },
      "position": {
        "x": 775,
        "y": 205
      }
    },
    {
      "type": "expressionNode",
      "content": {
        "expressions": [
          {
            "id": "eda9de75-be42-470e-8538-99aea2de0d00",
            "key": "certified",
            "value": "count(guideOrServiceDogTeams, (#.guideDogDocumentationType == 'certification'))"
          },
          {
            "id": "7c89301f-b8a0-4f0b-99ef-a5c0bdd1bf08",
            "key": "pending",
            "value": "count(guideOrServiceDogTeams, (#.guideDogDocumentationType == 'testBooked'))"
          }
        ]
      },
      "id": "213b1bcf-0443-4de3-93b6-6644efd409ef",
      "name": "Dog Team Count",
      "position": {
        "x": 500,
        "y": 205
      }
    },
    {
      "type": "switchNode",
      "content": {
        "hitPolicy": "first",
        "statements": [
          {
            "id": "137127f6-4cd9-49e2-bfca-a150e5ba627a",
            "condition": "guideOrServiceDogTeams != null and guideOrServiceDogTeams != undefined",
            "isDefault": false
          },
          {
            "id": "9582932f-c026-4c02-af4b-7ca3913442df",
            "condition": "",
            "isDefault": true
          }
        ]
      },
      "id": "44b9c63c-9c5c-477c-ae9b-661fd00cd43b",
      "name": "switch1",
      "position": {
        "x": 190,
        "y": 200
      }
    }
  ],
  "edges": [
    {
      "id": "961d84c0-ecf0-4187-9d9c-6e0940c3d094",
      "type": "edge",
      "sourceId": "d4b75ff1-c189-4c99-befd-34a048ea36dc",
      "targetId": "ff32aa69-c432-4205-93f8-7f6e3c57c2f3"
    },
    {
      "id": "0a09ba8d-42ed-4ab6-b154-f342e4928b0c",
      "sourceId": "ff32aa69-c432-4205-93f8-7f6e3c57c2f3",
      "type": "edge",
      "targetId": "f97bbcc0-aae0-4844-82eb-bfa8a7a150e3"
    },
    {
      "id": "79a450d8-9689-47da-821a-f1b7edcfed0a",
      "sourceId": "f97bbcc0-aae0-4844-82eb-bfa8a7a150e3",
      "type": "edge",
      "targetId": "3d92a47a-f301-4481-a287-84fa41daec6a"
    },
    {
      "id": "de3b9223-ac06-4f75-a221-f115826a9030",
      "sourceId": "ff32aa69-c432-4205-93f8-7f6e3c57c2f3",
      "type": "edge",
      "targetId": "3d92a47a-f301-4481-a287-84fa41daec6a"
    },
    {
      "id": "8eaad5e1-7972-4e0f-b2f0-4dc160b229f5",
      "sourceId": "213b1bcf-0443-4de3-93b6-6644efd409ef",
      "type": "edge",
      "targetId": "f97bbcc0-aae0-4844-82eb-bfa8a7a150e3"
    },
    {
      "id": "708dbd91-a9c2-4698-b7df-dc5a8b2e50b4",
      "sourceId": "d4b75ff1-c189-4c99-befd-34a048ea36dc",
      "type": "edge",
      "targetId": "44b9c63c-9c5c-477c-ae9b-661fd00cd43b"
    },
    {
      "id": "2790021e-aebc-4881-8a4d-c1aca4b1ac47",
      "sourceId": "44b9c63c-9c5c-477c-ae9b-661fd00cd43b",
      "type": "edge",
      "targetId": "213b1bcf-0443-4de3-93b6-6644efd409ef",
      "sourceHandle": "137127f6-4cd9-49e2-bfca-a150e5ba627a"
    },
    {
      "id": "c9c0e00d-4e89-43a5-a8e0-9ca877a7d7f2",
      "sourceId": "44b9c63c-9c5c-477c-ae9b-661fd00cd43b",
      "type": "edge",
      "targetId": "ff32aa69-c432-4205-93f8-7f6e3c57c2f3",
      "sourceHandle": "137127f6-4cd9-49e2-bfca-a150e5ba627a"
    },
    {
      "id": "ff343cf5-5bde-469a-9608-7a8c2ea1a096",
      "sourceId": "44b9c63c-9c5c-477c-ae9b-661fd00cd43b",
      "type": "edge",
      "targetId": "ff32aa69-c432-4205-93f8-7f6e3c57c2f3",
      "sourceHandle": "9582932f-c026-4c02-af4b-7ca3913442df"
    }
  ]
}